name: Code Review Workflow
on:
    push:
        branches: [ main ]
jobs:
    review:
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v3
        
        - name: Install dependencies 
          run: npm install
        
        - name: Review syntax
          run: npm run lint

        - name: Run tests
          run: npm run test

        - name: Add comment to PR
          uses: actions/github-script@v5
          with:
            script: |
                    const issueNumber = context.issue.number;
                    github.rest.issues.createComment({
                        issue_number: issueNumber,
                        owner: context.repo.owner,
                        repo: context.repo.repo,
                        body: 'Your pull request has been reviewed.'
                    });